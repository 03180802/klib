
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>klib package &#8212; klib 0.0.89 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="klib-package">
<h1>klib package<a class="headerlink" href="#klib-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-klib.clean">
<span id="klib-clean-module"></span><h2>klib.clean module<a class="headerlink" href="#module-klib.clean" title="Permalink to this headline">¶</a></h2>
<p>Functions for data cleaning.</p>
<dl class="field-list simple">
<dt class="field-odd">author</dt>
<dd class="field-odd"><p>Andreas Kanz</p>
</dd>
</dl>
<dl class="py function">
<dt id="klib.clean.convert_datatypes">
<code class="sig-prename descclassname">klib.clean.</code><code class="sig-name descname">convert_datatypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">category</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cat_threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">cat_exclude</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>Union<span class="p">[</span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#klib.clean.convert_datatypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts columns to best possible dtypes using dtypes supporting pd.NA. Temporarily not converting to integers         due to an issue in pandas. This is expected to be fixed in pandas 1.1.         See <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/33803">https://github.com/pandas-dev/pandas/issues/33803</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame</p>
</dd>
<dt><strong>category</strong><span class="classifier">bool, optional</span></dt><dd><p>Change dtypes of columns with dtype “object” to “category”. Set threshold using cat_threshold or exclude         columns using cat_exclude, by default True</p>
</dd>
<dt><strong>cat_threshold</strong><span class="classifier">float, optional</span></dt><dd><p>Ratio of unique values below which categories are inferred and column dtype is changed to categorical,         by default 0.05</p>
</dd>
<dt><strong>cat_exclude</strong><span class="classifier">Optional[List[str]], optional</span></dt><dd><p>List of columns to exclude from categorical conversion, by default None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>Pandas DataFrame with converted Datatypes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="klib.clean.data_cleaning">
<code class="sig-prename descclassname">klib.clean.</code><code class="sig-name descname">data_cleaning</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">drop_threshold_cols</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.9</span></em>, <em class="sig-param"><span class="n">drop_threshold_rows</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.9</span></em>, <em class="sig-param"><span class="n">drop_duplicates</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">convert_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">col_exclude</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">category</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cat_threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.03</span></em>, <em class="sig-param"><span class="n">cat_exclude</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>Union<span class="p">[</span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">show</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'changes'</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#klib.clean.data_cleaning" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform initial data cleaning tasks on a dataset, such as dropping single valued and empty rows, empty         columns as well as optimizing the datatypes.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame</p>
</dd>
<dt><strong>drop_threshold_cols</strong><span class="classifier">float, optional</span></dt><dd><p>Drop columns with NA-ratio equal to or above the specified threshold, by default 0.9</p>
</dd>
<dt><strong>drop_threshold_rows</strong><span class="classifier">float, optional</span></dt><dd><p>Drop rows with NA-ratio equal to or above the specified threshold, by default 0.9</p>
</dd>
<dt><strong>drop_duplicates</strong><span class="classifier">bool, optional</span></dt><dd><p>Drop duplicate rows, keeping the first occurence. This step comes after the dropping of missing values, by         default True</p>
</dd>
<dt><strong>convert_dtypes</strong><span class="classifier">bool, optional</span></dt><dd><p>Convert dtypes using pd.convert_dtypes(), by default True</p>
</dd>
<dt><strong>col_exclude</strong><span class="classifier">Optional[List[str]], optional</span></dt><dd><p>Specify a list of columns to exclude from dropping, by default None</p>
</dd>
<dt><strong>category</strong><span class="classifier">bool, optional</span></dt><dd><p>Enable changing dtypes of ‘object’ columns to “category”. Set threshold using cat_threshold. Requires         convert_dtypes=True, by default True</p>
</dd>
<dt><strong>cat_threshold</strong><span class="classifier">float, optional</span></dt><dd><p>Ratio of unique values below which categories are inferred and column dtype is changed to categorical, by         default 0.03</p>
</dd>
<dt><strong>cat_exclude</strong><span class="classifier">Optional[List[str]], optional</span></dt><dd><p>List of columns to exclude from categorical conversion, by default None</p>
</dd>
<dt><strong>show</strong><span class="classifier">str, optional</span></dt><dd><p>{‘all’, ‘changes’, None}, by default “changes”
Specify verbosity of the output:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘all’: Print information about the data before and after cleaning as well as information about changes             and memory usage (deep). Please be aware, that this can slow down the function by quite a bit.</p></li>
<li><p>‘changes’: Print out differences in the data before and after cleaning.</p></li>
<li><p>None: No information about the data and the data cleaning is printed.</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>Cleaned Pandas DataFrame</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#klib.clean.convert_datatypes" title="klib.clean.convert_datatypes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_datatypes</span></code></a></dt><dd><p>Convert columns to best possible dtypes.</p>
</dd>
<dt><a class="reference internal" href="#klib.clean.drop_missing" title="klib.clean.drop_missing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">drop_missing</span></code></a></dt><dd><p>Flexibly drop columns and rows.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">_memory_usage</span></code></dt><dd><p>Gives the total memory usage in megabytes.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">_missing_vals</span></code></dt><dd><p>Metrics about missing values in the dataset.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The category dtype is not grouped in the summary, unless it contains exactly the same categories.</p>
</dd></dl>

<dl class="py function">
<dt id="klib.clean.drop_missing">
<code class="sig-prename descclassname">klib.clean.</code><code class="sig-name descname">drop_missing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">drop_threshold_cols</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">drop_threshold_rows</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">col_exclude</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#klib.clean.drop_missing" title="Permalink to this definition">¶</a></dt>
<dd><p>Drops completely empty columns and rows by default and optionally provides flexibility to loosen restrictions         to drop additional non-empty columns and rows based on the fraction of NA-values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame</p>
</dd>
<dt><strong>drop_threshold_cols</strong><span class="classifier">float, optional</span></dt><dd><p>Drop columns with NA-ratio equal to or above the specified threshold, by default 1</p>
</dd>
<dt><strong>drop_threshold_rows</strong><span class="classifier">float, optional</span></dt><dd><p>Drop rows with NA-ratio equal to or above the specified threshold, by default 1</p>
</dd>
<dt><strong>col_exclude</strong><span class="classifier">Optional[List[str]], optional</span></dt><dd><p>Specify a list of columns to exclude from dropping, by default None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>Pandas DataFrame without any empty columns or rows</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Columns are dropped first</p>
</dd></dl>

<dl class="py function">
<dt id="klib.clean.mv_col_handling">
<code class="sig-prename descclassname">klib.clean.</code><code class="sig-name descname">mv_col_handling</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">target</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>str<span class="p">, </span>pandas.core.series.Series<span class="p">, </span>List<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mv_threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">corr_thresh_features</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">corr_thresh_target</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.3</span></em>, <em class="sig-param"><span class="n">return_details</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#klib.clean.mv_col_handling" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts columns with a high ratio of missing values into binary features and eventually drops them based on     their correlation with other features and the target variable. This function follows a three step process:
- 1) Identify features with a high ratio of missing values (above ‘mv_threshold’).
- 2) Identify high correlations of these features among themselves and with other features in the dataset (above          ‘corr_thresh_features’).
- 3) Features with high ratio of missing values and high correlation among each other are dropped unless          they correlate reasonably well with the target variable (above ‘corr_thresh_target’).</p>
<p>Note: If no target is provided, the process exits after step two and drops columns identified up to this point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame</p>
</dd>
<dt><strong>target</strong><span class="classifier">Optional[Union[str, pd.Series, List]], optional</span></dt><dd><p>Specify target for correlation. I.e. label column to generate only the correlations between each feature         and the label, by default None</p>
</dd>
<dt><strong>mv_threshold</strong><span class="classifier">float, optional</span></dt><dd><p>Value between 0 &lt;= threshold &lt;= 1. Features with a missing-value-ratio larger than mv_threshold are candidates         for dropping and undergo further analysis, by default 0.1</p>
</dd>
<dt><strong>corr_thresh_features</strong><span class="classifier">float, optional</span></dt><dd><p>Value between 0 &lt;= threshold &lt;= 1. Maximum correlation a previously identified features (with a high mv-ratio)         is allowed to have with another feature. If this threshold is overstepped, the feature undergoes further         analysis, by default 0.5</p>
</dd>
<dt><strong>corr_thresh_target</strong><span class="classifier">float, optional</span></dt><dd><p>Value between 0 &lt;= threshold &lt;= 1. Minimum required correlation of a remaining feature (i.e. feature with a         high mv-ratio and high correlation to another existing feature) with the target. If this threshold is not met         the feature is ultimately dropped, by default 0.3</p>
</dd>
<dt><strong>return_details</strong><span class="classifier">bool, optional</span></dt><dd><p>Provdies flexibility to return intermediary results, by default False</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>Updated Pandas DataFrame</p>
</dd>
<dt>optional:</dt><dd></dd>
<dt>cols_mv: Columns with missing values included in the analysis</dt><dd></dd>
<dt>drop_cols: List of dropped columns</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-klib.describe">
<span id="klib-describe-module"></span><h2>klib.describe module<a class="headerlink" href="#module-klib.describe" title="Permalink to this headline">¶</a></h2>
<p>Functions for descriptive analytics.</p>
<dl class="field-list simple">
<dt class="field-odd">author</dt>
<dd class="field-odd"><p>Andreas Kanz</p>
</dd>
</dl>
<dl class="py function">
<dt id="klib.describe.cat_plot">
<code class="sig-prename descclassname">klib.describe.</code><code class="sig-name descname">cat_plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="default_value">16, 16</span></em>, <em class="sig-param"><span class="n">top</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">3</span></em>, <em class="sig-param"><span class="n">bottom</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">3</span></em>, <em class="sig-param"><span class="n">bar_color_top</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'#5ab4ac'</span></em>, <em class="sig-param"><span class="n">bar_color_bottom</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'#d8b365'</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'BrBG'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#klib.describe.cat_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Two-dimensional visualization of the number and frequency of categorical features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame. If a Pandas DataFrame is provided, the index/column     information is used to label the plots</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">Tuple, optional</span></dt><dd><p>Use to control the figure size, by default (16, 16)</p>
</dd>
<dt><strong>top</strong><span class="classifier">int, optional</span></dt><dd><p>Show the “top” most frequent values in a column, by default 3</p>
</dd>
<dt><strong>bottom</strong><span class="classifier">int, optional</span></dt><dd><p>Show the “bottom” most frequent values in a column, by default 3</p>
</dd>
<dt><strong>bar_color_top</strong><span class="classifier">str, optional</span></dt><dd><p>Use to control the color of the bars indicating the most common values, by default “#5ab4ac”</p>
</dd>
<dt><strong>bar_color_bottom</strong><span class="classifier">str, optional</span></dt><dd><p>Use to control the color of the bars indicating the least common values, by default “#d8b365”</p>
</dd>
<dt><strong>cmap</strong><span class="classifier">str, optional</span></dt><dd><p>The mapping from data values to color space, by default “BrBG”</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Gridspec</dt><dd><p>gs: Figure with array of Axes objects</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="klib.describe.corr_mat">
<code class="sig-prename descclassname">klib.describe.</code><code class="sig-name descname">corr_mat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">split</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">target</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">, </span>numpy.ndarray<span class="p">, </span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'pearson'</span></em>, <em class="sig-param"><span class="n">colored</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>Any<span class="p">]</span><a class="headerlink" href="#klib.describe.corr_mat" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a color-encoded correlation matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame. If a Pandas DataFrame is provided, the index/column     information is used to label the plots</p>
</dd>
<dt><strong>split</strong><span class="classifier">Optional[str], optional</span></dt><dd><p>Type of split to be performed, by default None
{None, ‘pos’, ‘neg’, ‘above’, ‘below’}</p>
</dd>
<dt><strong>threshold</strong><span class="classifier">float, optional</span></dt><dd><p>Value between 0 &lt;= threshold &lt;= 1, by default 0</p>
</dd>
<dt><strong>target</strong><span class="classifier">Optional[Union[pd.DataFrame, str]], optional</span></dt><dd><p>Specify target for correlation. E.g. label column to generate only the correlations between each feature         and the label, by default None</p>
</dd>
<dt><strong>method</strong><span class="classifier">str, optional</span></dt><dd><p>method: {‘pearson’, ‘spearman’, ‘kendall’}, by default “pearson”
* pearson: measures linear relationships and requires normally distributed and homoscedastic data.
* spearman: ranked/ordinal correlation, measures monotonic relationships.
* kendall: ranked/ordinal correlation, measures monotonic relationships. Computationally more expensive but             more robust in smaller dataets than ‘spearman’</p>
</dd>
<dt><strong>colored</strong><span class="classifier">bool, optional</span></dt><dd><p>If True the negative values in the correlation matrix are colored in red, by default True</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Union[pd.DataFrame, pd.Styler]</dt><dd><p>If colored = True - corr: Pandas Styler object
If colored = False - corr: Pandas DataFrame</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="klib.describe.corr_plot">
<code class="sig-prename descclassname">klib.describe.</code><code class="sig-name descname">corr_plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">split</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">target</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>pandas.core.series.Series<span class="p">, </span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'pearson'</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'BrBG'</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="default_value">12, 10</span></em>, <em class="sig-param"><span class="n">annot</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">dev</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#klib.describe.corr_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Two-dimensional visualization of the correlation between feature-columns, excluding NA values.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame. If a Pandas DataFrame is provided, the index/column         information is used to label the plots</p>
</dd>
<dt><strong>split</strong><span class="classifier">Optional[str], optional</span></dt><dd><p>Type of split to be performed, by default None
{None, ‘pos’, ‘neg’, ‘above’, ‘below’}</p>
<blockquote>
<div><ul class="simple">
<li><p>None: visualize all correlations between the feature-columns</p></li>
<li><p>pos: visualize all positive correlations between the feature-columns above the threshold</p></li>
<li><p>neg: visualize all negative correlations between the feature-columns below the threshold</p></li>
<li><p>above: visualize all correlations between the feature-columns for which abs(corr) &gt; threshold is True</p></li>
<li><p>below: visualize all correlations between the feature-columns for which abs(corr) &lt; threshold is True</p></li>
</ul>
</div></blockquote>
</dd>
<dt><strong>threshold</strong><span class="classifier">float, optional</span></dt><dd><p>Value between 0 &lt;= threshold &lt;= 1, by default 0</p>
</dd>
<dt><strong>target</strong><span class="classifier">Optional[Union[pd.Series, str]], optional</span></dt><dd><p>Specify target for correlation. E.g. label column to generate only the correlations between each feature         and the label, by default None</p>
</dd>
<dt><strong>method</strong><span class="classifier">str, optional</span></dt><dd><dl class="simple">
<dt>method: {‘pearson’, ‘spearman’, ‘kendall’}, by default “pearson”</dt><dd><ul class="simple">
<li><p>pearson: measures linear relationships and requires normally distributed and homoscedastic data.</p></li>
<li><p>spearman: ranked/ordinal correlation, measures monotonic relationships.</p></li>
<li><p>kendall: ranked/ordinal correlation, measures monotonic relationships. Computationally more expensive                 but more robust in smaller dataets than ‘spearman’.</p></li>
</ul>
</dd>
</dl>
</dd>
<dt><strong>cmap</strong><span class="classifier">str, optional</span></dt><dd><p>The mapping from data values to color space, matplotlib colormap name or object, or list of colors, by default         “BrBG”</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">Tuple, optional</span></dt><dd><p>Use to control the figure size, by default (12, 10)</p>
</dd>
<dt><strong>annot</strong><span class="classifier">bool, optional</span></dt><dd><p>Use to show or hide annotations, by default True</p>
</dd>
<dt><strong>dev</strong><span class="classifier">bool, optional</span></dt><dd><p>Display figure settings in the plot by setting dev = True. If False, the settings are not displayed, by         default False</p>
</dd>
<dt><strong>**kwargs: optional</strong></dt><dd><p>Additional elements to control the visualization of the plot, e.g.:</p>
<ul class="simple">
<li><p>mask: bool, default True</p></li>
</ul>
<p>If set to False the entire correlation matrix, including the upper triangle is shown. Set dev = False in this         case to avoid overlap.
* vmax: float, default is calculated from the given correlation coefficients.
Value between -1 or vmin &lt;= vmax &lt;= 1, limits the range of the colorbar.
* vmin: float, default is calculated from the given correlation coefficients.
Value between -1 &lt;= vmin &lt;= 1 or vmax, limits the range of the colorbar.
* linewidths: float, default 0.5
Controls the line-width inbetween the squares.
* annot_kws: dict, default {‘size’ : 10}
Controls the font size of the annotations. Only available when annot = True.
* cbar_kws: dict, default {‘shrink’: .95, ‘aspect’: 30}
Controls the size of the colorbar.
* Many more kwargs are available, i.e. ‘alpha’ to control blending, or options to adjust labels, ticks …</p>
<p>Kwargs can be supplied through a dictionary of key-value pairs (see above).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>ax: matplotlib Axes</dt><dd><p>Returns the Axes object with the plot for further tweaking.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="klib.describe.dist_plot">
<code class="sig-prename descclassname">klib.describe.</code><code class="sig-name descname">dist_plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">mean_color</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'orange'</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="default_value">14, 2</span></em>, <em class="sig-param"><span class="n">fill_range</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="default_value">0.025, 0.975</span></em>, <em class="sig-param"><span class="n">hist</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">bins</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">10</span></em>, <em class="sig-param"><span class="n">showall</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">kde_kws</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rug_kws</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fill_kws</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">font_kws</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#klib.describe.dist_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Two-dimensional visualization of the distribution of numerical features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame. If a Pandas DataFrame is provided, the index/column     information is used to label the plots</p>
</dd>
<dt><strong>mean_color</strong><span class="classifier">str, optional</span></dt><dd><p>Color of the vertical line indicating the mean of the data, by default “orange”</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">Tuple, optional</span></dt><dd><p>Controls the figure size, by default (14, 2)</p>
</dd>
<dt><strong>fill_range</strong><span class="classifier">Tuple, optional</span></dt><dd><p>Set the quantiles for shading. Default spans 95% of the data, which is about two std. deviations         above and below the mean, by default (0.025, 0.975)</p>
</dd>
<dt><strong>hist</strong><span class="classifier">bool, optional</span></dt><dd><p>Set to True to display histogram bars in the plot, by default False</p>
</dd>
<dt><strong>bins</strong><span class="classifier">int, optional</span></dt><dd><p>Specification of the number of hist bins. Requires hist = True, by default 10</p>
</dd>
<dt><strong>showall</strong><span class="classifier">bool, optional</span></dt><dd><p>Set to True to remove the output limit of 20 plots, by default False</p>
</dd>
<dt><strong>kde_kws</strong><span class="classifier">Dict[str, Any], optional</span></dt><dd><p>Keyword arguments for kdeplot(), by default {‘color’: ‘k’, ‘alpha’: 0.7, ‘linewidth’: 1}</p>
</dd>
<dt><strong>rug_kws</strong><span class="classifier">Dict[str, Any], optional</span></dt><dd><p>Keyword arguments for rugplot(), by default {‘color’: ‘brown’, ‘alpha’: 0.5, ‘linewidth’: 2, ‘height’: 0.04}</p>
</dd>
<dt><strong>fill_kws</strong><span class="classifier">Dict[str, Any], optional</span></dt><dd><p>Keyword arguments to control the fill, by default {‘color’: ‘brown’, ‘alpha’: 0.1}</p>
</dd>
<dt><strong>font_kws</strong><span class="classifier">Dict[str, Any], optional</span></dt><dd><p>Keyword arguments to control the font, by default {‘color’:  ‘#111111’, ‘weight’: ‘normal’, ‘size’: 11}</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>[type]</dt><dd><p>[description]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="klib.describe.missingval_plot">
<code class="sig-prename descclassname">klib.describe.</code><code class="sig-name descname">missingval_plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'PuBuGn'</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="default_value">20, 20</span></em>, <em class="sig-param"><span class="n">sort</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">spine_color</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'#EEEEEE'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#klib.describe.missingval_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Two-dimensional visualization of the missing values in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame. If a Pandas DataFrame is provided, the index/column     information is used to label the plots</p>
</dd>
<dt><strong>cmap</strong><span class="classifier">str, optional</span></dt><dd><p>Any valid colormap can be used. E.g. ‘Greys’, ‘RdPu’. More information can be found in the matplotlib         documentation, by default “PuBuGn”</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">Tuple, optional</span></dt><dd><p>Use to control the figure size, by default (20, 20)</p>
</dd>
<dt><strong>sort</strong><span class="classifier">bool, optional</span></dt><dd><p>Sort columns based on missing values in descending order and drop columns without any missing values,         by default False</p>
</dd>
<dt><strong>spine_color</strong><span class="classifier">str, optional</span></dt><dd><p>Set to ‘None’ to hide the spines on all plots or use any valid matplotlib color argument, by default “#EEEEEE”</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>GridSpec</dt><dd><p>gs: Figure with array of Axes objects</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-klib.preprocess">
<span id="klib-preprocess-module"></span><h2>klib.preprocess module<a class="headerlink" href="#module-klib.preprocess" title="Permalink to this headline">¶</a></h2>
<p>Functions for data preprocessing.</p>
<dl class="field-list simple">
<dt class="field-odd">author</dt>
<dd class="field-odd"><p>Andreas Kanz</p>
</dd>
</dl>
<dl class="py function">
<dt id="klib.preprocess.cat_pipe">
<code class="sig-prename descclassname">klib.preprocess.</code><code class="sig-name descname">cat_pipe</code><span class="sig-paren">(</span><em class="sig-param">imputer=SimpleImputer(add_indicator=False</em>, <em class="sig-param">copy=True</em>, <em class="sig-param">fill_value=None</em>, <em class="sig-param">missing_values=nan</em>, <em class="sig-param">strategy='most_frequent'</em>, <em class="sig-param">verbose=0)</em>, <em class="sig-param">encoder=OneHotEncoder(categories='auto'</em>, <em class="sig-param">drop=None</em>, <em class="sig-param">dtype=&lt;class 'numpy.float64'&gt;</em>, <em class="sig-param">handle_unknown='ignore'</em>, <em class="sig-param">sparse=True)</em>, <em class="sig-param">scaler=MaxAbsScaler(copy=True)</em>, <em class="sig-param">encoder_info=PipeInfo(name='after encoding')</em><span class="sig-paren">)</span><a class="headerlink" href="#klib.preprocess.cat_pipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard preprocessing operations on categorical data.</p>
</dd></dl>

<dl class="py function">
<dt id="klib.preprocess.feature_selection_pipe">
<code class="sig-prename descclassname">klib.preprocess.</code><code class="sig-name descname">feature_selection_pipe</code><span class="sig-paren">(</span><em class="sig-param">var_thresh=VarianceThreshold(threshold=0.1)</em>, <em class="sig-param">select_from_model=SelectFromModel(estimator=LassoCV(alphas=None</em>, <em class="sig-param">copy_X=True</em>, <em class="sig-param">cv=4</em>, <em class="sig-param">eps=0.001</em>, <em class="sig-param">fit_intercept=True</em>, <em class="sig-param">max_iter=1000</em>, <em class="sig-param">n_alphas=100</em>, <em class="sig-param">n_jobs=None</em>, <em class="sig-param">normalize=False</em>, <em class="sig-param">positive=False</em>, <em class="sig-param">precompute='auto'</em>, <em class="sig-param">random_state=408</em>, <em class="sig-param">selection='cyclic'</em>, <em class="sig-param">tol=0.0001</em>, <em class="sig-param">verbose=False)</em>, <em class="sig-param">max_features=None</em>, <em class="sig-param">norm_order=1</em>, <em class="sig-param">prefit=False</em>, <em class="sig-param">threshold='0.1*median')</em>, <em class="sig-param">select_percentile=SelectPercentile(percentile=95</em>, <em class="sig-param">score_func=&lt;function f_classif&gt;)</em>, <em class="sig-param">var_thresh_info=PipeInfo(name='after var_thresh')</em>, <em class="sig-param">select_from_model_info=PipeInfo(name='after select_from_model')</em>, <em class="sig-param">select_percentile_info=PipeInfo(name='after select_percentile')</em><span class="sig-paren">)</span><a class="headerlink" href="#klib.preprocess.feature_selection_pipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocessing operations for feature selection.</p>
</dd></dl>

<dl class="py function">
<dt id="klib.preprocess.num_pipe">
<code class="sig-prename descclassname">klib.preprocess.</code><code class="sig-name descname">num_pipe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">imputer</span><span class="o">=</span><span class="default_value">IterativeImputer(add_indicator=False, estimator=ExtraTreesRegressor(bootstrap=False, ccp_alpha=0.0, criterion='mse', max_depth=None, max_features='auto', max_leaf_nodes=None, max_samples=None, min_impurity_decrease=0.0, min_impurity_split=None, min_samples_leaf=1, min_samples_split=2, min_weight_fraction_leaf=0.0, n_estimators=25, n_jobs=4, oob_score=False, random_state=408, verbose=0, warm_start=False), imputation_order='ascending', initial_strategy='mean', max_iter=10, max_value=None, min_value=None, missing_values=nan, n_nearest_features=None, random_state=408, sample_posterior=False, skip_complete=False, tol=0.001, verbose=0)</span></em>, <em class="sig-param"><span class="n">scaler</span><span class="o">=</span><span class="default_value">RobustScaler(copy=True, quantile_range=25.0, 75.0, with_centering=True, with_scaling=True)</span></em><span class="sig-paren">)</span><a class="headerlink" href="#klib.preprocess.num_pipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard preprocessing operations on numerical data.</p>
</dd></dl>

<dl class="py function">
<dt id="klib.preprocess.train_dev_test_split">
<code class="sig-prename descclassname">klib.preprocess.</code><code class="sig-name descname">train_dev_test_split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">target</span></em>, <em class="sig-param"><span class="n">dev_size</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">test_size</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">stratify</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">random_state</span><span class="o">=</span><span class="default_value">408</span></em><span class="sig-paren">)</span><a class="headerlink" href="#klib.preprocess.train_dev_test_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a dataset and a label column into train, dev and test sets.</p>
</dd></dl>

</div>
<div class="section" id="module-klib">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-klib" title="Permalink to this headline">¶</a></h2>
<div class="section" id="data-science-module-for-python">
<h3>Data Science Module for Python<a class="headerlink" href="#data-science-module-for-python" title="Permalink to this headline">¶</a></h3>
<p>klib is an easy to use Python library of customized functions for cleaning and analyzing data.</p>
<dl class="py function">
<dt id="klib.cat_pipe">
<code class="sig-prename descclassname">klib.</code><code class="sig-name descname">cat_pipe</code><span class="sig-paren">(</span><em class="sig-param">imputer=SimpleImputer(add_indicator=False</em>, <em class="sig-param">copy=True</em>, <em class="sig-param">fill_value=None</em>, <em class="sig-param">missing_values=nan</em>, <em class="sig-param">strategy='most_frequent'</em>, <em class="sig-param">verbose=0)</em>, <em class="sig-param">encoder=OneHotEncoder(categories='auto'</em>, <em class="sig-param">drop=None</em>, <em class="sig-param">dtype=&lt;class 'numpy.float64'&gt;</em>, <em class="sig-param">handle_unknown='ignore'</em>, <em class="sig-param">sparse=True)</em>, <em class="sig-param">scaler=MaxAbsScaler(copy=True)</em>, <em class="sig-param">encoder_info=PipeInfo(name='after encoding')</em><span class="sig-paren">)</span><a class="headerlink" href="#klib.cat_pipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard preprocessing operations on categorical data.</p>
</dd></dl>

<dl class="py function">
<dt id="klib.cat_plot">
<code class="sig-prename descclassname">klib.</code><code class="sig-name descname">cat_plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="default_value">16, 16</span></em>, <em class="sig-param"><span class="n">top</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">3</span></em>, <em class="sig-param"><span class="n">bottom</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">3</span></em>, <em class="sig-param"><span class="n">bar_color_top</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'#5ab4ac'</span></em>, <em class="sig-param"><span class="n">bar_color_bottom</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'#d8b365'</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'BrBG'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#klib.cat_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Two-dimensional visualization of the number and frequency of categorical features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame. If a Pandas DataFrame is provided, the index/column     information is used to label the plots</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">Tuple, optional</span></dt><dd><p>Use to control the figure size, by default (16, 16)</p>
</dd>
<dt><strong>top</strong><span class="classifier">int, optional</span></dt><dd><p>Show the “top” most frequent values in a column, by default 3</p>
</dd>
<dt><strong>bottom</strong><span class="classifier">int, optional</span></dt><dd><p>Show the “bottom” most frequent values in a column, by default 3</p>
</dd>
<dt><strong>bar_color_top</strong><span class="classifier">str, optional</span></dt><dd><p>Use to control the color of the bars indicating the most common values, by default “#5ab4ac”</p>
</dd>
<dt><strong>bar_color_bottom</strong><span class="classifier">str, optional</span></dt><dd><p>Use to control the color of the bars indicating the least common values, by default “#d8b365”</p>
</dd>
<dt><strong>cmap</strong><span class="classifier">str, optional</span></dt><dd><p>The mapping from data values to color space, by default “BrBG”</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Gridspec</dt><dd><p>gs: Figure with array of Axes objects</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="klib.convert_datatypes">
<code class="sig-prename descclassname">klib.</code><code class="sig-name descname">convert_datatypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">category</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cat_threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">cat_exclude</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>Union<span class="p">[</span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#klib.convert_datatypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts columns to best possible dtypes using dtypes supporting pd.NA. Temporarily not converting to integers         due to an issue in pandas. This is expected to be fixed in pandas 1.1.         See <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/33803">https://github.com/pandas-dev/pandas/issues/33803</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame</p>
</dd>
<dt><strong>category</strong><span class="classifier">bool, optional</span></dt><dd><p>Change dtypes of columns with dtype “object” to “category”. Set threshold using cat_threshold or exclude         columns using cat_exclude, by default True</p>
</dd>
<dt><strong>cat_threshold</strong><span class="classifier">float, optional</span></dt><dd><p>Ratio of unique values below which categories are inferred and column dtype is changed to categorical,         by default 0.05</p>
</dd>
<dt><strong>cat_exclude</strong><span class="classifier">Optional[List[str]], optional</span></dt><dd><p>List of columns to exclude from categorical conversion, by default None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>Pandas DataFrame with converted Datatypes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="klib.corr_mat">
<code class="sig-prename descclassname">klib.</code><code class="sig-name descname">corr_mat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">split</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">target</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">, </span>numpy.ndarray<span class="p">, </span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'pearson'</span></em>, <em class="sig-param"><span class="n">colored</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>Any<span class="p">]</span><a class="headerlink" href="#klib.corr_mat" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a color-encoded correlation matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame. If a Pandas DataFrame is provided, the index/column     information is used to label the plots</p>
</dd>
<dt><strong>split</strong><span class="classifier">Optional[str], optional</span></dt><dd><p>Type of split to be performed, by default None
{None, ‘pos’, ‘neg’, ‘above’, ‘below’}</p>
</dd>
<dt><strong>threshold</strong><span class="classifier">float, optional</span></dt><dd><p>Value between 0 &lt;= threshold &lt;= 1, by default 0</p>
</dd>
<dt><strong>target</strong><span class="classifier">Optional[Union[pd.DataFrame, str]], optional</span></dt><dd><p>Specify target for correlation. E.g. label column to generate only the correlations between each feature         and the label, by default None</p>
</dd>
<dt><strong>method</strong><span class="classifier">str, optional</span></dt><dd><p>method: {‘pearson’, ‘spearman’, ‘kendall’}, by default “pearson”
* pearson: measures linear relationships and requires normally distributed and homoscedastic data.
* spearman: ranked/ordinal correlation, measures monotonic relationships.
* kendall: ranked/ordinal correlation, measures monotonic relationships. Computationally more expensive but             more robust in smaller dataets than ‘spearman’</p>
</dd>
<dt><strong>colored</strong><span class="classifier">bool, optional</span></dt><dd><p>If True the negative values in the correlation matrix are colored in red, by default True</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Union[pd.DataFrame, pd.Styler]</dt><dd><p>If colored = True - corr: Pandas Styler object
If colored = False - corr: Pandas DataFrame</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="klib.corr_plot">
<code class="sig-prename descclassname">klib.</code><code class="sig-name descname">corr_plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">split</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">target</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>pandas.core.series.Series<span class="p">, </span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'pearson'</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'BrBG'</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="default_value">12, 10</span></em>, <em class="sig-param"><span class="n">annot</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">dev</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#klib.corr_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Two-dimensional visualization of the correlation between feature-columns, excluding NA values.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame. If a Pandas DataFrame is provided, the index/column         information is used to label the plots</p>
</dd>
<dt><strong>split</strong><span class="classifier">Optional[str], optional</span></dt><dd><p>Type of split to be performed, by default None
{None, ‘pos’, ‘neg’, ‘above’, ‘below’}</p>
<blockquote>
<div><ul class="simple">
<li><p>None: visualize all correlations between the feature-columns</p></li>
<li><p>pos: visualize all positive correlations between the feature-columns above the threshold</p></li>
<li><p>neg: visualize all negative correlations between the feature-columns below the threshold</p></li>
<li><p>above: visualize all correlations between the feature-columns for which abs(corr) &gt; threshold is True</p></li>
<li><p>below: visualize all correlations between the feature-columns for which abs(corr) &lt; threshold is True</p></li>
</ul>
</div></blockquote>
</dd>
<dt><strong>threshold</strong><span class="classifier">float, optional</span></dt><dd><p>Value between 0 &lt;= threshold &lt;= 1, by default 0</p>
</dd>
<dt><strong>target</strong><span class="classifier">Optional[Union[pd.Series, str]], optional</span></dt><dd><p>Specify target for correlation. E.g. label column to generate only the correlations between each feature         and the label, by default None</p>
</dd>
<dt><strong>method</strong><span class="classifier">str, optional</span></dt><dd><dl class="simple">
<dt>method: {‘pearson’, ‘spearman’, ‘kendall’}, by default “pearson”</dt><dd><ul class="simple">
<li><p>pearson: measures linear relationships and requires normally distributed and homoscedastic data.</p></li>
<li><p>spearman: ranked/ordinal correlation, measures monotonic relationships.</p></li>
<li><p>kendall: ranked/ordinal correlation, measures monotonic relationships. Computationally more expensive                 but more robust in smaller dataets than ‘spearman’.</p></li>
</ul>
</dd>
</dl>
</dd>
<dt><strong>cmap</strong><span class="classifier">str, optional</span></dt><dd><p>The mapping from data values to color space, matplotlib colormap name or object, or list of colors, by default         “BrBG”</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">Tuple, optional</span></dt><dd><p>Use to control the figure size, by default (12, 10)</p>
</dd>
<dt><strong>annot</strong><span class="classifier">bool, optional</span></dt><dd><p>Use to show or hide annotations, by default True</p>
</dd>
<dt><strong>dev</strong><span class="classifier">bool, optional</span></dt><dd><p>Display figure settings in the plot by setting dev = True. If False, the settings are not displayed, by         default False</p>
</dd>
<dt><strong>**kwargs: optional</strong></dt><dd><p>Additional elements to control the visualization of the plot, e.g.:</p>
<ul class="simple">
<li><p>mask: bool, default True</p></li>
</ul>
<p>If set to False the entire correlation matrix, including the upper triangle is shown. Set dev = False in this         case to avoid overlap.
* vmax: float, default is calculated from the given correlation coefficients.
Value between -1 or vmin &lt;= vmax &lt;= 1, limits the range of the colorbar.
* vmin: float, default is calculated from the given correlation coefficients.
Value between -1 &lt;= vmin &lt;= 1 or vmax, limits the range of the colorbar.
* linewidths: float, default 0.5
Controls the line-width inbetween the squares.
* annot_kws: dict, default {‘size’ : 10}
Controls the font size of the annotations. Only available when annot = True.
* cbar_kws: dict, default {‘shrink’: .95, ‘aspect’: 30}
Controls the size of the colorbar.
* Many more kwargs are available, i.e. ‘alpha’ to control blending, or options to adjust labels, ticks …</p>
<p>Kwargs can be supplied through a dictionary of key-value pairs (see above).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>ax: matplotlib Axes</dt><dd><p>Returns the Axes object with the plot for further tweaking.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="klib.data_cleaning">
<code class="sig-prename descclassname">klib.</code><code class="sig-name descname">data_cleaning</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">drop_threshold_cols</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.9</span></em>, <em class="sig-param"><span class="n">drop_threshold_rows</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.9</span></em>, <em class="sig-param"><span class="n">drop_duplicates</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">convert_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">col_exclude</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">category</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cat_threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.03</span></em>, <em class="sig-param"><span class="n">cat_exclude</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>Union<span class="p">[</span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">show</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'changes'</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#klib.data_cleaning" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform initial data cleaning tasks on a dataset, such as dropping single valued and empty rows, empty         columns as well as optimizing the datatypes.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame</p>
</dd>
<dt><strong>drop_threshold_cols</strong><span class="classifier">float, optional</span></dt><dd><p>Drop columns with NA-ratio equal to or above the specified threshold, by default 0.9</p>
</dd>
<dt><strong>drop_threshold_rows</strong><span class="classifier">float, optional</span></dt><dd><p>Drop rows with NA-ratio equal to or above the specified threshold, by default 0.9</p>
</dd>
<dt><strong>drop_duplicates</strong><span class="classifier">bool, optional</span></dt><dd><p>Drop duplicate rows, keeping the first occurence. This step comes after the dropping of missing values, by         default True</p>
</dd>
<dt><strong>convert_dtypes</strong><span class="classifier">bool, optional</span></dt><dd><p>Convert dtypes using pd.convert_dtypes(), by default True</p>
</dd>
<dt><strong>col_exclude</strong><span class="classifier">Optional[List[str]], optional</span></dt><dd><p>Specify a list of columns to exclude from dropping, by default None</p>
</dd>
<dt><strong>category</strong><span class="classifier">bool, optional</span></dt><dd><p>Enable changing dtypes of ‘object’ columns to “category”. Set threshold using cat_threshold. Requires         convert_dtypes=True, by default True</p>
</dd>
<dt><strong>cat_threshold</strong><span class="classifier">float, optional</span></dt><dd><p>Ratio of unique values below which categories are inferred and column dtype is changed to categorical, by         default 0.03</p>
</dd>
<dt><strong>cat_exclude</strong><span class="classifier">Optional[List[str]], optional</span></dt><dd><p>List of columns to exclude from categorical conversion, by default None</p>
</dd>
<dt><strong>show</strong><span class="classifier">str, optional</span></dt><dd><p>{‘all’, ‘changes’, None}, by default “changes”
Specify verbosity of the output:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘all’: Print information about the data before and after cleaning as well as information about changes             and memory usage (deep). Please be aware, that this can slow down the function by quite a bit.</p></li>
<li><p>‘changes’: Print out differences in the data before and after cleaning.</p></li>
<li><p>None: No information about the data and the data cleaning is printed.</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>Cleaned Pandas DataFrame</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#klib.convert_datatypes" title="klib.convert_datatypes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_datatypes</span></code></a></dt><dd><p>Convert columns to best possible dtypes.</p>
</dd>
<dt><a class="reference internal" href="#klib.drop_missing" title="klib.drop_missing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">drop_missing</span></code></a></dt><dd><p>Flexibly drop columns and rows.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">_memory_usage</span></code></dt><dd><p>Gives the total memory usage in megabytes.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">_missing_vals</span></code></dt><dd><p>Metrics about missing values in the dataset.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The category dtype is not grouped in the summary, unless it contains exactly the same categories.</p>
</dd></dl>

<dl class="py function">
<dt id="klib.dist_plot">
<code class="sig-prename descclassname">klib.</code><code class="sig-name descname">dist_plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">mean_color</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'orange'</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="default_value">14, 2</span></em>, <em class="sig-param"><span class="n">fill_range</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="default_value">0.025, 0.975</span></em>, <em class="sig-param"><span class="n">hist</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">bins</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">10</span></em>, <em class="sig-param"><span class="n">showall</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">kde_kws</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rug_kws</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fill_kws</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">font_kws</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#klib.dist_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Two-dimensional visualization of the distribution of numerical features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame. If a Pandas DataFrame is provided, the index/column     information is used to label the plots</p>
</dd>
<dt><strong>mean_color</strong><span class="classifier">str, optional</span></dt><dd><p>Color of the vertical line indicating the mean of the data, by default “orange”</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">Tuple, optional</span></dt><dd><p>Controls the figure size, by default (14, 2)</p>
</dd>
<dt><strong>fill_range</strong><span class="classifier">Tuple, optional</span></dt><dd><p>Set the quantiles for shading. Default spans 95% of the data, which is about two std. deviations         above and below the mean, by default (0.025, 0.975)</p>
</dd>
<dt><strong>hist</strong><span class="classifier">bool, optional</span></dt><dd><p>Set to True to display histogram bars in the plot, by default False</p>
</dd>
<dt><strong>bins</strong><span class="classifier">int, optional</span></dt><dd><p>Specification of the number of hist bins. Requires hist = True, by default 10</p>
</dd>
<dt><strong>showall</strong><span class="classifier">bool, optional</span></dt><dd><p>Set to True to remove the output limit of 20 plots, by default False</p>
</dd>
<dt><strong>kde_kws</strong><span class="classifier">Dict[str, Any], optional</span></dt><dd><p>Keyword arguments for kdeplot(), by default {‘color’: ‘k’, ‘alpha’: 0.7, ‘linewidth’: 1}</p>
</dd>
<dt><strong>rug_kws</strong><span class="classifier">Dict[str, Any], optional</span></dt><dd><p>Keyword arguments for rugplot(), by default {‘color’: ‘brown’, ‘alpha’: 0.5, ‘linewidth’: 2, ‘height’: 0.04}</p>
</dd>
<dt><strong>fill_kws</strong><span class="classifier">Dict[str, Any], optional</span></dt><dd><p>Keyword arguments to control the fill, by default {‘color’: ‘brown’, ‘alpha’: 0.1}</p>
</dd>
<dt><strong>font_kws</strong><span class="classifier">Dict[str, Any], optional</span></dt><dd><p>Keyword arguments to control the font, by default {‘color’:  ‘#111111’, ‘weight’: ‘normal’, ‘size’: 11}</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>[type]</dt><dd><p>[description]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="klib.drop_missing">
<code class="sig-prename descclassname">klib.</code><code class="sig-name descname">drop_missing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">drop_threshold_cols</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">drop_threshold_rows</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">col_exclude</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#klib.drop_missing" title="Permalink to this definition">¶</a></dt>
<dd><p>Drops completely empty columns and rows by default and optionally provides flexibility to loosen restrictions         to drop additional non-empty columns and rows based on the fraction of NA-values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame</p>
</dd>
<dt><strong>drop_threshold_cols</strong><span class="classifier">float, optional</span></dt><dd><p>Drop columns with NA-ratio equal to or above the specified threshold, by default 1</p>
</dd>
<dt><strong>drop_threshold_rows</strong><span class="classifier">float, optional</span></dt><dd><p>Drop rows with NA-ratio equal to or above the specified threshold, by default 1</p>
</dd>
<dt><strong>col_exclude</strong><span class="classifier">Optional[List[str]], optional</span></dt><dd><p>Specify a list of columns to exclude from dropping, by default None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>Pandas DataFrame without any empty columns or rows</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Columns are dropped first</p>
</dd></dl>

<dl class="py function">
<dt id="klib.feature_selection_pipe">
<code class="sig-prename descclassname">klib.</code><code class="sig-name descname">feature_selection_pipe</code><span class="sig-paren">(</span><em class="sig-param">var_thresh=VarianceThreshold(threshold=0.1)</em>, <em class="sig-param">select_from_model=SelectFromModel(estimator=LassoCV(alphas=None</em>, <em class="sig-param">copy_X=True</em>, <em class="sig-param">cv=4</em>, <em class="sig-param">eps=0.001</em>, <em class="sig-param">fit_intercept=True</em>, <em class="sig-param">max_iter=1000</em>, <em class="sig-param">n_alphas=100</em>, <em class="sig-param">n_jobs=None</em>, <em class="sig-param">normalize=False</em>, <em class="sig-param">positive=False</em>, <em class="sig-param">precompute='auto'</em>, <em class="sig-param">random_state=408</em>, <em class="sig-param">selection='cyclic'</em>, <em class="sig-param">tol=0.0001</em>, <em class="sig-param">verbose=False)</em>, <em class="sig-param">max_features=None</em>, <em class="sig-param">norm_order=1</em>, <em class="sig-param">prefit=False</em>, <em class="sig-param">threshold='0.1*median')</em>, <em class="sig-param">select_percentile=SelectPercentile(percentile=95</em>, <em class="sig-param">score_func=&lt;function f_classif&gt;)</em>, <em class="sig-param">var_thresh_info=PipeInfo(name='after var_thresh')</em>, <em class="sig-param">select_from_model_info=PipeInfo(name='after select_from_model')</em>, <em class="sig-param">select_percentile_info=PipeInfo(name='after select_percentile')</em><span class="sig-paren">)</span><a class="headerlink" href="#klib.feature_selection_pipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocessing operations for feature selection.</p>
</dd></dl>

<dl class="py function">
<dt id="klib.missingval_plot">
<code class="sig-prename descclassname">klib.</code><code class="sig-name descname">missingval_plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'PuBuGn'</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="default_value">20, 20</span></em>, <em class="sig-param"><span class="n">sort</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">spine_color</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'#EEEEEE'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#klib.missingval_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Two-dimensional visualization of the missing values in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame. If a Pandas DataFrame is provided, the index/column     information is used to label the plots</p>
</dd>
<dt><strong>cmap</strong><span class="classifier">str, optional</span></dt><dd><p>Any valid colormap can be used. E.g. ‘Greys’, ‘RdPu’. More information can be found in the matplotlib         documentation, by default “PuBuGn”</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">Tuple, optional</span></dt><dd><p>Use to control the figure size, by default (20, 20)</p>
</dd>
<dt><strong>sort</strong><span class="classifier">bool, optional</span></dt><dd><p>Sort columns based on missing values in descending order and drop columns without any missing values,         by default False</p>
</dd>
<dt><strong>spine_color</strong><span class="classifier">str, optional</span></dt><dd><p>Set to ‘None’ to hide the spines on all plots or use any valid matplotlib color argument, by default “#EEEEEE”</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>GridSpec</dt><dd><p>gs: Figure with array of Axes objects</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="klib.mv_col_handling">
<code class="sig-prename descclassname">klib.</code><code class="sig-name descname">mv_col_handling</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">target</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>str<span class="p">, </span>pandas.core.series.Series<span class="p">, </span>List<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mv_threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">corr_thresh_features</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">corr_thresh_target</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.3</span></em>, <em class="sig-param"><span class="n">return_details</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#klib.mv_col_handling" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts columns with a high ratio of missing values into binary features and eventually drops them based on     their correlation with other features and the target variable. This function follows a three step process:
- 1) Identify features with a high ratio of missing values (above ‘mv_threshold’).
- 2) Identify high correlations of these features among themselves and with other features in the dataset (above          ‘corr_thresh_features’).
- 3) Features with high ratio of missing values and high correlation among each other are dropped unless          they correlate reasonably well with the target variable (above ‘corr_thresh_target’).</p>
<p>Note: If no target is provided, the process exits after step two and drops columns identified up to this point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame</p>
</dd>
<dt><strong>target</strong><span class="classifier">Optional[Union[str, pd.Series, List]], optional</span></dt><dd><p>Specify target for correlation. I.e. label column to generate only the correlations between each feature         and the label, by default None</p>
</dd>
<dt><strong>mv_threshold</strong><span class="classifier">float, optional</span></dt><dd><p>Value between 0 &lt;= threshold &lt;= 1. Features with a missing-value-ratio larger than mv_threshold are candidates         for dropping and undergo further analysis, by default 0.1</p>
</dd>
<dt><strong>corr_thresh_features</strong><span class="classifier">float, optional</span></dt><dd><p>Value between 0 &lt;= threshold &lt;= 1. Maximum correlation a previously identified features (with a high mv-ratio)         is allowed to have with another feature. If this threshold is overstepped, the feature undergoes further         analysis, by default 0.5</p>
</dd>
<dt><strong>corr_thresh_target</strong><span class="classifier">float, optional</span></dt><dd><p>Value between 0 &lt;= threshold &lt;= 1. Minimum required correlation of a remaining feature (i.e. feature with a         high mv-ratio and high correlation to another existing feature) with the target. If this threshold is not met         the feature is ultimately dropped, by default 0.3</p>
</dd>
<dt><strong>return_details</strong><span class="classifier">bool, optional</span></dt><dd><p>Provdies flexibility to return intermediary results, by default False</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>Updated Pandas DataFrame</p>
</dd>
<dt>optional:</dt><dd></dd>
<dt>cols_mv: Columns with missing values included in the analysis</dt><dd></dd>
<dt>drop_cols: List of dropped columns</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="klib.num_pipe">
<code class="sig-prename descclassname">klib.</code><code class="sig-name descname">num_pipe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">imputer</span><span class="o">=</span><span class="default_value">IterativeImputer(add_indicator=False, estimator=ExtraTreesRegressor(bootstrap=False, ccp_alpha=0.0, criterion='mse', max_depth=None, max_features='auto', max_leaf_nodes=None, max_samples=None, min_impurity_decrease=0.0, min_impurity_split=None, min_samples_leaf=1, min_samples_split=2, min_weight_fraction_leaf=0.0, n_estimators=25, n_jobs=4, oob_score=False, random_state=408, verbose=0, warm_start=False), imputation_order='ascending', initial_strategy='mean', max_iter=10, max_value=None, min_value=None, missing_values=nan, n_nearest_features=None, random_state=408, sample_posterior=False, skip_complete=False, tol=0.001, verbose=0)</span></em>, <em class="sig-param"><span class="n">scaler</span><span class="o">=</span><span class="default_value">RobustScaler(copy=True, quantile_range=25.0, 75.0, with_centering=True, with_scaling=True)</span></em><span class="sig-paren">)</span><a class="headerlink" href="#klib.num_pipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard preprocessing operations on numerical data.</p>
</dd></dl>

<dl class="py function">
<dt id="klib.pool_duplicate_subsets">
<code class="sig-prename descclassname">klib.</code><code class="sig-name descname">pool_duplicate_subsets</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">col_dupl_thresh</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.2</span></em>, <em class="sig-param"><span class="n">subset_thresh</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.2</span></em>, <em class="sig-param"><span class="n">min_col_pool</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">3</span></em>, <em class="sig-param"><span class="n">exclude</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">return_details</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#klib.pool_duplicate_subsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks for duplicates in subsets of columns and pools them. This can reduce the number of columns in the data     without loosing much information. Suitable columns are combined to subsets and tested for duplicates. In case     sufficient duplicates can be found, the respective columns are aggregated into a ‘pooled_var’ column. Identical     numbers in the ‘pooled_var’ column indicate identical information in the respective rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>2D dataset that can be coerced into Pandas DataFrame</p>
</dd>
<dt><strong>col_dupl_thresh</strong><span class="classifier">float, optional</span></dt><dd><p>Columns with a ratio of duplicates higher than ‘col_dupl_thresh’ are considered in the further analysis.         Columns with a lower ratio are not considered for pooling, by default 0.2</p>
</dd>
<dt><strong>subset_thresh</strong><span class="classifier">float, optional</span></dt><dd><p>The first subset with a duplicate threshold higher than ‘subset_thresh’ is chosen and aggregated. If no subset         reaches the threshold, the algorithm continues with continuously smaller subsets until ‘min_col_pool’ is         reached, by default 0.2</p>
</dd>
<dt><strong>min_col_pool</strong><span class="classifier">int, optional</span></dt><dd><p>Minimum number of columns to pool. The algorithm attempts to combine as many columns as possible to suitable         subsets and stops when ‘min_col_pool’ is reached, by default 3</p>
</dd>
<dt><strong>exclude</strong><span class="classifier">Optional[List[str]], optional</span></dt><dd><p>List of column names to be excluded from the analysis. These columns are passed through without modification,         by default None</p>
</dd>
<dt><strong>return_details</strong><span class="classifier">bool, optional</span></dt><dd><p>Provdies flexibility to return intermediary results, by default False</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>DataFrame with low cardinality columns pooled</p>
</dd>
<dt>optional:</dt><dd></dd>
<dt>subset_cols: List of columns used as subset</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="klib.train_dev_test_split">
<code class="sig-prename descclassname">klib.</code><code class="sig-name descname">train_dev_test_split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">target</span></em>, <em class="sig-param"><span class="n">dev_size</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">test_size</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">stratify</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">random_state</span><span class="o">=</span><span class="default_value">408</span></em><span class="sig-paren">)</span><a class="headerlink" href="#klib.train_dev_test_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a dataset and a label column into train, dev and test sets.</p>
</dd></dl>

</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">klib</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Andreas Kanz.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/klib.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>